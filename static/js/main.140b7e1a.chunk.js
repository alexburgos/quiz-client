(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e,t,n){e.exports=n(19)},16:function(e,t,n){},17:function(e,t,n){},18:function(e,t,n){},19:function(e,t,n){"use strict";n.r(t);var o=n(0),s=n.n(o),a=n(2),i=n.n(a),r=(n(16),n(6)),u=n(3),c=n(4),l=n(8),d=n(5),h=n(9),m=(n(17),n(7)),p=(n(18),{method:"GET",credentials:"same-origin",cache:"no-cache",headers:new Headers({"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"})});new Headers({"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"});function g(e,t,n){console.log(e,t),fetch("https://futu-quiz-api.now.sh/answer/".concat(e),p).then(function(e){if(e.ok)return e.json();throw new Error(e.status)}).then(function(o){var s;o.answer.toLowerCase()===t.toLowerCase()?(console.log("Correct!"),s=!0):(console.log("Womp Womp!"),s=!1),n(e,s)}).catch(function(e){alert("Error fetching questions"),console.error(e)})}var w=function(e){var t=e.questionId,n=e.questionText,a=e.choices,i=e.setAnsweredQuestions,r=Object(o.useState)(""),u=Object(m.a)(r,2),c=u[0],l=u[1];return s.a.createElement("div",{className:"Question"},s.a.createElement("h2",{className:"Question-text"},n),a?s.a.createElement("ul",{className:"Question-choices"},a.map(function(e,n){return s.a.createElement("li",{key:n,onClick:function(){return g(t,e,i)}},e)})):s.a.createElement("div",{className:"Question-input"},s.a.createElement("input",{type:"text",value:c,placeholder:"What is your answer?",onChange:function(e){return l(e.target.value)}}),s.a.createElement("button",{onClick:c.length>0?function(){return g(t,c,i)}:null,disabled:0===c.length},"Submit Answer")))},f=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(l.a)(this,Object(d.a)(t).call(this,e))).getQuestions=function(){fetch("https://futu-quiz-api.now.sh/questions",p).then(function(e){if(e.ok)return e.json();throw new Error(e.status)}).then(function(e){n.setState({questions:e,isLoadingQuestions:!1,originalQuestionLength:e.length},n.randomizeQuestion)}).catch(function(e){alert("Error fetching questions"),console.error(e)})},n.randomizeQuestion=function(){var e=n.state,t=e.questions,o=e.isLoadingNextQuestion;if(0!==t.length){var s=Math.floor(Math.random()*t.length);n.setState({currentQuestion:t[s],isLoadingNextQuestion:!o&&o})}else n.setState({currentQuestion:null,isLoadingNextQuestion:!1})},n.showNextQuestion=function(){var e=n.state,t=e.questions,o=e.answeredQuestionIds,s=t.filter(function(e){return!o.includes(e.id)});n.setState({questions:s},n.randomizeQuestion)},n.setAnsweredQuestions=function(e,t){var o=n.state.correctAnswers,s=Object(r.a)(n.state.answeredQuestionIds);s.push(e),console.log(s,n.state.isLoadingNextQuestion),n.setState({answeredQuestionIds:s,correctAnswers:t?o+1:o,isLoadingNextQuestion:!0},n.showNextQuestion)},n.state={questions:[],currentQuestion:null,isLoadingQuestions:!0,correctAnswers:0,originalQuestionLength:0,answeredQuestionIds:[],isLoadingNextQuestion:!1},n}return Object(h.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.getQuestions()}},{key:"render",value:function(){var e=this.state,t=e.currentQuestion,n=e.isLoadingQuestions,o=e.isLoadingNextQuestion,a=e.answeredQuestionIds,i=e.correctAnswers,r=e.originalQuestionLength;return s.a.createElement("div",{className:"App"},s.a.createElement("header",{className:"App-header"},s.a.createElement("h1",null,"Totally Random Trivia")),!n&&!o&&t&&s.a.createElement(w,{choices:t.choices,questionId:t.id,questionText:t.question,setAnsweredQuestions:this.setAnsweredQuestions}),n&&s.a.createElement("div",{className:"App-loading"},s.a.createElement("span",null,"Loading Questions..."),s.a.createElement("span",{className:"App-loading-icon"},"\u2699")),o&&s.a.createElement("div",{className:"App-loading"},s.a.createElement("span",null,"Loading Next Question..."),s.a.createElement("span",{className:"App-loading-icon"},"\u2699")),!n&&!o&&a.length>=r&&s.a.createElement("div",{className:"App-results"},s.a.createElement("p",null,"Congrats on finishing the quiz! You had ",i," correct answers."),s.a.createElement("button",{onClick:function(){return window.location.reload()}},"Want to try again?")))}}]),t}(o.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(s.a.createElement(f,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[10,1,2]]]);
//# sourceMappingURL=main.140b7e1a.chunk.js.map